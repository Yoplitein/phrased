<!DOCTYPE html>
<html lang="en">
<head>
    <title>phrased.macro_</title>
    <meta charset="utf-8" />
    <style type="text/css">
        body
        {
            background-color: #D3D3D3;
        }
        
        tt
        {
            background-color: #B3B3B3;
        }
        
        table, tr, td
        {
            border-collapse: collapse;
            border: 1px solid black;
            padding: 5px;
        }
    </style>
</head>
<body>
    <h1>phrased.macro_</h1>
    <!-- Generated by Ddoc from src/phrased/macro_.d -->
Interface for managing expression macros.
    Also includes some default, general purpose macros.
<br><br>
Registration of the default macros can be disabled by passing version PHRASED_NO_DEFAULT_MACROS.<br><br>

<dl><dt><big><a name="MacroFunction"></a>alias MacroFunction = string delegate(PhrasedRange!(Node) arguments);
</big></dt>
<dd>The signature of a function implementing a macro.<br><br>

</dd>
<dt><big><a name="ArgumentRange"></a>alias ArgumentRange = phrased.PhrasedRange!(Node).PhrasedRange;
</big></dt>
<dd>An input range passed to macros containing their arguments.<br><br>

</dd>
<dt><big><a name="register_macro"></a>void register_macro(FunctionType)(string <i>name</i>, FunctionType <i>macroFunc</i>, bool <i>overwrite</i> = false);
</big></dt>
<dd>Register a macro.
<br><br>
<b>Params:</b><br>
<table><tr><td>string name</td>
<td>name of the macro, as used in expressions</td></tr>
<tr><td>FunctionType macroFunc</td>
<td>function to call when this macro is invoked in an expression</td></tr>
<tr><td>bool overwrite</td>
<td>whether to overwrite preexisting macros</td></tr>
</table><br>
<b>Throws:</b><br>
<a href="phrased.package.html#PhrasedException">PhrasedException</a> if another macro exists by this name, and overwrite is <b>false</b><br><br>

</dd>
<dt><big><a name="deregister_macro"></a>void deregister_macro(string <i>name</i>);
</big></dt>
<dd>Deregister a macro, if it exists.<br><br>

</dd>
<dt><big><a name="registered_macros"></a>string[] registered_macros();
</big></dt>
<dd>Returns a list of the names of registered macros.<br><br>

</dd>
<dt><big><a name="resolve_macro"></a>string resolve_macro(string <i>name</i>, SequenceNode <i>arguments</i>);
</big></dt>
<dd>Resolve a macro into a string by either running a registered macro function,
    or looking it up as a word in the <a href="phrased.dictionary.html#defaultDictionary">default dictionary</a>.
<br><br>
<b>Throws:</b><br>
PhrasedException if the default dictionary is <b>null</b><br><br>

</dd>
<dt><big><a name="macro_error"></a>string macro_error(string <i>msg</i>);
</big></dt>
<dd>Helper function for macros that resolve to an error.<br><br>

</dd>
<dt><big><a name="resolve"></a>string resolve(ArgumentRange <i>arguments</i>);
</big></dt>
<dd>Resolves an <a href="#ArgumentRange">ArgumentRange</a> into a string.<br><br>

</dd>
<dt><big><a name="macro_optional"></a>string macro_optional(ArgumentRange <i>arguments</i>);
</big></dt>
<dd>A macro implementing an optional expression. Nicer syntax for <tt>{expression|}</tt>.
<br><br>
<b>Examples:</b><br>
<pre class="d_code">I have $(optional far too many )cats.
</pre>
        becomes
<pre class="d_code">I have cats.
OR
I have far too many cats.
</pre>
<br><br>

</dd>
<dt><big><a name="macro_article"></a>string macro_article(ArgumentRange <i>arguments</i>);
</big></dt>
<dd>A macro that uses the appropriate article for the first word in the <i>arguments</i>.
<br><br>
<b>Examples:</b><br>
<pre class="d_code">$(article bear), $(article aardvark)
</pre>
        becomes
<pre class="d_code">a bear, an aardvark
</pre>
<br><br>

</dd>
<dt><big><a name="macro_upper"></a>string macro_upper(ArgumentRange <i>arguments</i>);
</big></dt>
<dd>A macro that converts its <i>arguments</i> to uppercase.
<br><br>
<b>Examples:</b><br>
<pre class="d_code">$(upper Hello, world!)
</pre>
        becomes
<pre class="d_code">HELLO, WORLD!
</pre>
<br><br>

</dd>
<dt><big><a name="macro_lower"></a>string macro_lower(ArgumentRange <i>arguments</i>);
</big></dt>
<dd>A macro that converts its <i>arguments</i> to lowercase.
<br><br>
<b>Examples:</b><br>
<pre class="d_code">$(lower WHY AM I SHOUTING)
</pre>
        becomes
<pre class="d_code">why am i shouting
</pre>
<br><br>

</dd>
<dt><big><a name="macro_today"></a>string macro_today(ArgumentRange <i>arguments</i>);
</big></dt>
<dd>A macro that resolves to the name of the current day.<br><br>

</dd>
<dt><big><a name="macro_tomorrow"></a>string macro_tomorrow(ArgumentRange <i>arguments</i>);
</big></dt>
<dd>A macro that resolves to the name of the day tomorrow.<br><br>

</dd>
<dt><big><a name="macro_day"></a>string macro_day(ArgumentRange <i>arguments</i>);
</big></dt>
<dd>A macro that resolves to the name of a random day of the week.<br><br>

</dd>
</dl>

</body>
</html>
